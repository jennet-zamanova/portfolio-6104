---
title: Assignment 4
layout: doc
---

# A4

[TrueTide repo](https://github.com/jennet-zamanova/truetide)

[TrueTide deployment](https://truetide.vercel.app/)

## Data Modeling

[Data Model](https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=test.drawio#R%3Cmxfile%3E%3Cdiagram%20id%3D%226a731a19-8d31-9384-78a2-239565b7b9f0%22%20name%3D%22Page-1%22%3E7Vxbc9o4FP4tfeAxjO6yHwMJ7cy2M52mnXYfDSjgrcGMMU3SX78yyBddnHKxDVk2D210wLL1fUffOUeS08PDxfP7JFjNP8VTEfUQmD738F0PIYQxlv9llpedBSLs7SyzJJwqW2l4CH8LZQTKugmnYq19MY3jKA1XunESL5dikmq2IEniJ%2F1rj3Gk33UVzIRleJgEkW39Hk7TubJC5pcffBDhbK5u7SG%2B%2B2AcTH7OknizVPdbxkux%2B2QR5N2oMa7nwTR%2BqpjwfQ8PkzhOd78tnociynDNEdtdN6r5tHjkRCzTfS5YDW75c8zC94NP35c%2F%2Fvr87eeX9Q2knO46%2BhVEG4WGet70JYdnO0CR9QN6ePA0D1PxsAom2adP0iOkbZ4uItmC8tfHMIqGcRQnsr2FAw%2FWaRL%2FFLmxh%2FCU%2B2MAik9yzOH2%2BniZKg9BnmyrxxNJKp5rhw4LQKWTingh0uRFfiW%2FgBHcV%2BNULkpzWp5KvnFum1eoRr4yBsrHZkX3JdjyF4X3YdjDK8AeEqAhD6mNPGEO5DFoEXlyBuTHHiW0Q%2BQLAHPkgcPpmcvpCz7agB6dAXo28cT4sTPoCTb1BjEbegpd0NMWocdngN5nHAesM%2Bixrzu976O%2BL2dC%2FgPtGUBcNDQhPhDnZFYQ%2F7YWiYW6vE7mOuLPiBdZBFDwjYJFGGVj%2FSCiXyINJ4ED16xdoWS0%2FZH2IApnS2mbSHDlU5kcYYNiealMifytXedZkV9DloPSWv441fkrJkmFMZgnnFXGCuOJjNkx%2BUGs12G8fLukjYDHAa0jbZYE01CU91LmaZjIVDsbN75bx5us7yb4lTTpBCMXwdwxJQvjiQTbCe%2B3Lx%2F%2Fq%2BQ2wZg1JX2WR7cqZ2WOrbFWmk%2FkjVm8fQzGWSX6Vpm79ygjqFXmkGfkIVAm5C7ysOckrzSfSJ5v07Sc3malu5k65IAxC5hq%2BKkmIc4kwgGcVLFkklf8FKqBpUEyE8V4c1cXU23FwIY4EVGQhr%2F0BYTTQMpTxFNBeswVoTWQ4BlBws2AxDEb3nrtgUQhOyNItlbaqMnnelBNBdtRQBYq1pq37Qtkrnoe1BMM5AxXwJVivJb1qxt%2BjkM5iEq9od8NE2ZK5m6Q6rrqCp3RFTG6QnZXO2SsrrYeUSCxp5M4Vp8e0iRczixXKWtCs%2BjLSmsyGNzXRjE7CGpR1%2FAZV1zd25f2j4uEmuU5cZTnEDvrwibmp2P56Uqg55zrPu53Cry3xwrIEcJoF8RVdk4WxiIr0YWR7xuGFfY38gvmMnib0oj0KQaOFkYI9K6w3VWTwui1Ez3P5CTkfydpwUkIsKNna04yorcjauSq0heSlx%2FVxt%2BZsPdp3rx7VkK%2Fa730yjr3GOfKt2WPq5byZMlcFXfWok15FjRvBwk82rtQtqRfLiObzgZJm87meZfobLAlVzutnMrZt7Z8sd%2Baq9kJJcxXPA53NB%2BYfWFM2vMt396iOCYXfQSe8OCbykUhQcRSCODIR51bpE3ko8S389GrAR%2Fqq8rlQYFOoKegw1JgBLz7LT8NZHnMoY7FJN5%2FjcRcGKZthmL52NZCtH98LCZWb3ZnDUokBXuckWrTVYrwC%2FqMIT3f82VYez0Mb1ufRRLKMWcbEyfFZpf3HRybO%2FY%2B7FvOx492Pg5RX6oS83xGKeSIGSKG2qw6KOiwNG1ftPBFu80bFy1oi9bXZCO%2BhlNhu0ynW6ZoRAd8WL9l6vqqvRFhboNruYoaWvbINccbmkhhgHGUgXkuf0SuwwyokcMMhfJWSB7K8QvlP29yW5xjNgm8umS2Ad4YNTNPn%2FQJtoWE0j7lDi2p2E%2Bkz67rR2Fkz89Xk%2F8A%2BdNJ7QGQi0z%2BCTIYAN3m%2FtiueVsLo7fIvxs2tBvvzr68w8LojYy8ngb%2FDQa4xUB6AyHT%2BUbMLybcoYH0BgKjN%2BjorblIWnOWltlT910wSTdBVCvAkp%2FdiSXNFyyBzKaR1NjoVn2wCKfTrI9BItbh72C87S%2Bbu6tsdNvx0kGP3mXfiNNAHdkj9Vm%2B43yterFGdd4rXlrRXFJNmxNOMNQxinQ%2BjdWu%2BPFxLU5PiHCHBb9r0ovnMN0VcZz6qr2r4WTVoNplCZc1XiqNZgo4t4QcvI7fuYQwRCVKHvFgVs5xpjsMZxJTgLgsyTzuEYKOUxZundrnBPaJ7xMKKMn%2B9boWGd9y2WCTzuPk3TnUpeJyGOlqc%2BOBBuQFtyIvOqU3xrp8Q%2BJC9tIS%2FeUKpzbQijJAp%2FxIi0wSI9XJPyJNXxQr0jdiaYoT6SKzeBlEH%2BN4pfqpPwCnyxmyE0xGxmOB9qjrMCFbR6nVoubOwtXsw3DaB7WbdBARcnTacUTXrctD7nTVHEQ2N9s3TKRzjCyflBMzrasUHC%2FzvJKymmV2ra5YClSVDURfk41D3jL09JwQO94ydAajJgqKOnrsFZiMnjRehZOLZwa%2FKugHMEPNbB1DR6ndNTXcTU1gb7xdGDGwqRlDubkKwvdeTW2TGbuumtQUVBfGTINTBliJqHd%2BOWN2%2FZRHm2WwEHZKemn8eA1NHZ4jURxauwBy7BPF71bBev0UJ9OLZ6YpTWPWATNyAfOG22v0UtEmYpVll7eynJOjk5ClrlMfF0ZUQwLHsLkV5nwJtGue7Jyg5Em9A3w9HEHsGyXOBahcPpu7eK9p5HiLrjyI0Wvg0K1RDR%2F%2FghR9nclO34eC5u18apTx%2B5%2BEBHqchcWLIZ1V2NxegCs1YRhekWZDmfVcYHDNnc1J0HY99IoootykyL8EiuxVqpKiz%2FH6iiYR5dYZIPqnP0%2FTOV12mRemYrG%2BEorsc8nIdTahIVJks%2FwLgLuwVf6JRXz%2FLw%3D%3D%3C%2Fdiagram%3E%3C%2Fmxfile%3E)

![Data Model](/../assets/images/a4/data_model.svg)

**concept: Authentication**  
purpose: log in/register a user  
state:  
`username`: User -> one String  
`password`: User -> one String

**concept: Sessioning[User]**  
purpose: enable authenticated actions for an extended period of time  
state:  
`session`: Session -> one User

**concept: Posting[User, File]**  
purpose: share experiences and information  
state:  
`author`: Post -> one User  
`file`: Post -> one File (can potentially be text, image, or video)

**concept: Labeling[Item]**  
purpose: tag `Items` (can potentially be comments, posts, other users)
state:  
`tags`: Item -> (tag) set String  
`categories`: (category) String -> (tag) set String

**concept: Citing[Item]**  
purpose: get sources to support `Item` (can potentially be posts, comments)
state:  
`citations`: Item -> (links) set String

`Authentication, Sessioning[Authentication.User], Posting[Authentication.User, Video], Labeling[Posting.Content], Citing[Posting.Content]`

(though Posting[Authentication.User, Video] became Posting[Authentication.User, URL])

## Data Representation

In the perfect world where I am not restrained to using Vercel and can actually download videos I would have used the following version of data representation and [this backend](https://github.com/jennet-zamanova/truetide/tree/a4-beta):

```
UserDoc {
_id: ObjectId,
username: String,
password: String
}
```

```
SessionDoc {
_id: ObjectId,
user: ObjectId
}
```

```
PostingDoc {
_id: ObjectId,
author: ObjectId,
file: ObjectId # stored with GridFS
}
```

```
CategoryDoc {
_id: ObjectId,
category: String,
labels: ObjectId[],
}
LabelDoc {
_id: ObjectId,
label: String,
items: ObjectId[]
}
```

```
CitationDoc {
_id: ObjectId,
url: string[],
item: ObjectId
}
```

Since that is not the case though posting was changed (way too quickly) to

```
PostingDoc {
_id: ObjectId,
author: ObjectId,
file: string
}
```

and [here is the backend](https://github.com/jennet-zamanova/truetide/tree/main). Some of the functions may have been left unchanged due to the sudden change and my hope that maybe I will be able to figure out the problem.

Some of the routes were added for testing purposes only (so you can see that it exists) but will not be used in the final product like `@Router.get("/citations/localsuggestions")` and `@Router.get("/citations/text-suggestions")`

Some of the synschronizations are more complicated because I want to reduce the amount of work the user needs to do and functionality in general is just more complicated (some console logs are still left there so if you get any errors I can see them to get better final product)

Some of the checks (add'l control flow) in the routes may not even be necessary based on the frontend.

## Design Reflection

During the transition from A3 to A4, several design changes emerged, primarily as a result of implementation insights and time constraints. Initially, I had distinct concepts for `Labeling` and `DualViewing` because they involved different user actions. However, upon implementing the backend, I realized both shared the same underlying data and functionality. This led me to merge them, as `Labeling` merely supporting `DualViewing`. The goal was to display opposing posts with their tags, so it made more sense to treat this as synchronization rather than maintaining two separate concepts.

Similarly, I initially included a `Feed` concept to accommodate user preferences. While it would enhance user experience, I decided to remove it due to time limitations and the focus of the proof-of-concept (POC). The app’s primary function is to offer diverse perspectives with minimal misinformation, so showcasing opposing posts in a constrained set of categories suffices for testing user interest.

My decision-making centered on evaluating each concept’s novelty and importance for the POC. Though it was difficult to remove ideas I valued, refining the design based on practical needs and data models was crucial. However, I sometimes overthought implementation details before coding, which slowed progress. The emphasis on developing concepts independently made it difficult to test features that required synchronization, as I felt pressured to fully implement each concept before integrating them. This approach led to frequent code changes, especially when I discovered issues late in testing, such as Vercel’s read-only limitations and the complexity of temporary downloads due to limited documentation. In hindsight, testing smaller components iteratively and temporarily exposing private functions instead of trying to get the perfect data represantation could have minimized redesigns and simplified development.

NOTE: If I did not include a route, that most probably means I do not want the user to be able to do it / I want to simplify the process user has to go through. For the citations to work the way I want them to it would be enough to have access to the uploaded video file as a file even if temporarily [need to be able to do this](https://ai.google.dev/api/files#video)
